
<mat-card *ngFor="let match of matches; index as i; trackBy: trackByDate">
  <mat-card-header>
    <mat-card-title>{{matches.length - i}}. match</mat-card-title>
    <mat-card-subtitle>
      <ng-container *ngIf="winningTeam(match) as team; else beingPlayed">{{team | teamName}} vandt</ng-container>
      <ng-template #beingPlayed>Spilles</ng-template>
    </mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <table mat-table fxFlex [trackBy]="trackByIndex" [dataSource]="match.goals" class="mat-elevation-z0">

      <ng-container matColumnDef="player">
        <th mat-header-cell *matHeaderCellDef> Spiller </th>
        <td mat-cell *matCellDef="let element">
          <div  fxLayout fxLayoutAlign="flex-start center" >
            <img class="avatar mr-3" [src]="element.uid | photoURL"> {{element.uid | displayName}} 
        </div> 
      </td>
      </ng-container>

      <ng-container matColumnDef="team">
        <th mat-header-cell *matHeaderCellDef> Hold </th>
        <td mat-cell *matCellDef="let element"> {{element.team | teamName}} </td>
      </ng-container>

      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef> Position </th>
        <td mat-cell *matCellDef="let element"> {{element.position | position}} <ng-container *ngIf="element.ownGoal"><i class="far fa-sad-tear"></i></ng-container></td>
      </ng-container>

      <ng-container matColumnDef="time">
        <th mat-header-cell *matHeaderCellDef> Tidspunkt </th>
        <td mat-cell *matCellDef="let element"> {{element.time | date: 'short'}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr [class.red]="isRed(row)" [class.blue]="isBlue(row)" [class.shame]="row.ownGoal" mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </mat-card-content>
</mat-card>